import{j as e,c as p,B as d}from"./button.D3kf3I3D.js";import{r as c}from"./index.BVOCwoKb.js";const u=c.forwardRef(({className:r,...l},a)=>e.jsx("div",{ref:a,className:p("rounded-lg border border-gray-200 bg-white text-gray-900 shadow-sm",r),...l}));u.displayName="Card";const b=c.forwardRef(({className:r,...l},a)=>e.jsx("div",{ref:a,className:p("flex flex-col space-y-1.5 p-6",r),...l}));b.displayName="CardHeader";const f=c.forwardRef(({className:r,...l},a)=>e.jsx("h3",{ref:a,className:p("text-2xl font-semibold leading-none tracking-tight",r),...l}));f.displayName="CardTitle";const R=c.forwardRef(({className:r,...l},a)=>e.jsx("p",{ref:a,className:p("text-sm text-gray-600",r),...l}));R.displayName="CardDescription";const h=c.forwardRef(({className:r,...l},a)=>e.jsx("div",{ref:a,className:p("p-6 pt-0",r),...l}));h.displayName="CardContent";const B=c.forwardRef(({className:r,...l},a)=>e.jsx("div",{ref:a,className:p("flex items-center p-6 pt-0",r),...l}));B.displayName="CardFooter";function k(){const[r,l]=c.useState("list"),[a,w]=c.useState([]),[N,g]=c.useState([]),[n,T]=c.useState(!1),[o,v]=c.useState({description:"",reference:"",transactionDate:new Date}),[m,y]=c.useState([{accountId:"",description:"",debitAmount:0,creditAmount:0},{accountId:"",description:"",debitAmount:0,creditAmount:0}]);c.useEffect(()=>{g([{id:"1",code:"1000",name:"Cash",type:"ASSET",normalBalance:"DEBIT"},{id:"2",code:"1100",name:"Accounts Receivable",type:"ASSET",normalBalance:"DEBIT"},{id:"3",code:"2000",name:"Accounts Payable",type:"LIABILITY",normalBalance:"CREDIT"},{id:"4",code:"3000",name:"Owner Equity",type:"EQUITY",normalBalance:"CREDIT"},{id:"5",code:"4000",name:"Revenue",type:"REVENUE",normalBalance:"CREDIT"},{id:"6",code:"5000",name:"Operating Expenses",type:"EXPENSE",normalBalance:"DEBIT"}]),w([{id:"1",date:"2024-01-15",description:"Office Supplies Purchase",reference:"REF-001",status:"POSTED",entries:[{accountId:6,debitAmount:25e4,creditAmount:0,description:"Office supplies"},{accountId:1,debitAmount:0,creditAmount:25e4,description:"Cash payment"}]}])},[]);const D=()=>{y([...m,{accountId:"",description:"",debitAmount:0,creditAmount:0}])},S=t=>{m.length>2&&y(m.filter((i,s)=>s!==t))},C=(t,i,s)=>{const x=[...m];x[t]={...x[t],[i]:s},y(x)},E=()=>{const t=m.reduce((s,x)=>s+(x.debitAmount||0),0),i=m.reduce((s,x)=>s+(x.creditAmount||0),0);return{totalDebits:t,totalCredits:i,isBalanced:Math.abs(t-i)<.01}},A=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),I=async()=>{T(!0);try{if(!E().isBalanced){alert("Transaction must be balanced! Total debits must equal total credits.");return}if(!o.description?.trim()){alert("Please enter a transaction description.");return}const i=m.filter(s=>s.accountId&&(s.debitAmount>0||s.creditAmount>0));if(i.length<2){alert("Transaction must have at least 2 entries.");return}console.log("Creating transaction:",{description:o.description,reference:o.reference,transactionDate:o.transactionDate,entries:i}),v({description:"",reference:"",transactionDate:new Date}),y([{accountId:"",description:"",debitAmount:0,creditAmount:0},{accountId:"",description:"",debitAmount:0,creditAmount:0}]),l("list"),alert("Transaction created successfully!")}catch(t){console.error("Error creating transaction:",t),alert("Error creating transaction. Please try again.")}finally{T(!1)}},j=E();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Transaction Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage financial transactions"})]})}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[e.jsx("button",{onClick:()=>l("list"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r==="list"?"bg-white text-blue-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Transaction History"}),e.jsx("button",{onClick:()=>l("create"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r==="create"?"bg-white text-blue-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"New Transaction"}),e.jsx("button",{onClick:()=>l("accounts"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r==="accounts"?"bg-white text-blue-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Chart of Accounts"})]}),r==="list"&&e.jsxs(u,{children:[e.jsx(b,{children:e.jsxs(f,{className:"flex items-center justify-between",children:["Transaction History",e.jsx(d,{onClick:()=>l("create"),className:"bg-blue-600 hover:bg-blue-700",children:"+ New Transaction"})]})}),e.jsx(h,{children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Date"}),e.jsx("th",{className:"text-left p-2",children:"Reference"}),e.jsx("th",{className:"text-left p-2",children:"Description"}),e.jsx("th",{className:"text-right p-2",children:"Amount"}),e.jsx("th",{className:"text-center p-2",children:"Status"})]})}),e.jsx("tbody",{children:a.map(t=>{const i=t.entries.reduce((s,x)=>s+x.debitAmount,0);return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:new Date(t.date).toLocaleDateString()}),e.jsx("td",{className:"p-2",children:t.reference||"-"}),e.jsx("td",{className:"p-2",children:t.description}),e.jsx("td",{className:"p-2 text-right",children:A(i)}),e.jsx("td",{className:"p-2 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t.status==="POSTED"?"bg-green-100 text-green-800":t.status==="DRAFT"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status})})]},t.id)})})]}),a.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No transactions found. Create your first transaction to get started."})]})})]}),r==="create"&&e.jsxs(u,{children:[e.jsx(b,{children:e.jsx(f,{children:"Create New Transaction"})}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("input",{type:"text",value:o.description||"",onChange:t=>v({...o,description:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter transaction description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),e.jsx("input",{type:"text",value:o.reference||"",onChange:t=>v({...o,reference:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional reference"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),e.jsx("input",{type:"date",value:o.transactionDate?.toISOString().split("T")[0]||"",onChange:t=>v({...o,transactionDate:new Date(t.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Journal Entries"}),e.jsx(d,{onClick:D,variant:"outline",size:"sm",children:"+ Add Entry"})]}),e.jsx("div",{className:"space-y-3",children:m.map((t,i)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Account"}),e.jsxs("select",{value:t.accountId,onChange:s=>C(i,"accountId",s.target.value),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Account"}),N.map(s=>e.jsxs("option",{value:s.id,children:[s.code," - ",s.name]},s.id))]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:t.description||"",onChange:s=>C(i,"description",s.target.value),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Entry description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Debit"}),e.jsx("input",{type:"number",value:t.debitAmount||"",onChange:s=>C(i,"debitAmount",parseFloat(s.target.value)||0),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Credit"}),e.jsx("input",{type:"number",value:t.creditAmount||"",onChange:s=>C(i,"creditAmount",parseFloat(s.target.value)||0),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",min:"0",step:"0.01"})]}),e.jsx("div",{className:"flex items-end",children:m.length>2&&e.jsx(d,{onClick:()=>S(i),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Remove"})})]},i))}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total Debits:"}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:A(j.totalDebits)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total Credits:"}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:A(j.totalCredits)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Balance Status:"}),e.jsx("div",{className:`text-lg font-bold ${j.isBalanced?"text-green-600":"text-red-600"}`,children:j.isBalanced?"✓ Balanced":"✗ Unbalanced"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(d,{onClick:I,disabled:!j.isBalanced||n,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400",children:n?"Creating...":"Create Transaction"}),e.jsx(d,{onClick:()=>l("list"),variant:"outline",children:"Cancel"})]})]})]})]}),r==="accounts"&&e.jsxs(u,{children:[e.jsx(b,{children:e.jsxs(f,{className:"flex items-center justify-between",children:["Chart of Accounts",e.jsx(d,{variant:"outline",children:"+ Add Account"})]})}),e.jsx(h,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Code"}),e.jsx("th",{className:"text-left p-2",children:"Account Name"}),e.jsx("th",{className:"text-left p-2",children:"Type"}),e.jsx("th",{className:"text-left p-2",children:"Normal Balance"}),e.jsx("th",{className:"text-center p-2",children:"Actions"})]})}),e.jsx("tbody",{children:N.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2 font-mono",children:t.code}),e.jsx("td",{className:"p-2",children:t.name}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t.type==="ASSET"?"bg-blue-100 text-blue-800":t.type==="LIABILITY"?"bg-red-100 text-red-800":t.type==="EQUITY"?"bg-purple-100 text-purple-800":t.type==="REVENUE"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:t.type})}),e.jsx("td",{className:"p-2",children:t.normalBalance}),e.jsx("td",{className:"p-2 text-center",children:e.jsx(d,{variant:"outline",size:"sm",children:"Edit"})})]},t.id))})]})})})]})]})}function O(){const[r,l]=c.useState("current"),[a,w]=c.useState("overview"),N=[{label:"Total Revenue",value:"$2,847,392",change:"+12.3%",trend:"up"},{label:"Operating Expenses",value:"$1,923,847",change:"+5.7%",trend:"up"},{label:"Net Income",value:"$923,545",change:"+18.9%",trend:"up"},{label:"Cash Flow",value:"$1,234,567",change:"-2.1%",trend:"down"}],g=[{id:"overview",name:"Overview",icon:"📊"},{id:"gl",name:"General Ledger",icon:"📋"},{id:"reports",name:"Financial Reports",icon:"📈"},{id:"budget",name:"Budget & Forecast",icon:"💰"},{id:"audit",name:"Audit Trail",icon:"🔍"},{id:"entities",name:"Multi-Entity",icon:"🏢"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Corporate Finance Dashboard"}),e.jsx("p",{className:"text-slate-600",children:"Manage your corporate accounting & finance operations"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:r,onChange:n=>l(n.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white",children:[e.jsx("option",{value:"current",children:"Current Month"}),e.jsx("option",{value:"quarter",children:"Current Quarter"}),e.jsx("option",{value:"year",children:"Current Year"})]}),e.jsx(d,{variant:"outline",children:"Export Report"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:g.map(n=>e.jsx(u,{className:`cursor-pointer transition-all hover:shadow-md ${a===n.id?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>w(n.id),children:e.jsxs(h,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:n.icon}),e.jsx("div",{className:"text-sm font-medium",children:n.name})]})},n.id))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map(n=>e.jsx(u,{children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:n.label}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.value})]}),e.jsx("div",{className:`text-sm font-medium ${n.trend==="up"?"text-green-600":n.trend==="down"?"text-red-600":"text-slate-600"}`,children:n.change})]})})},n.label))}),e.jsxs(u,{children:[e.jsx(b,{children:e.jsx(f,{children:g.find(n=>n.id===a)?.name||"Overview"})}),e.jsxs(h,{children:[a==="overview"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-slate-600",children:"Welcome to your Corporate Finance Dashboard. Select a module above to access specific functions."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900",children:"Recent Activity"}),e.jsx("p",{className:"text-sm text-blue-700",children:"5 journal entries pending approval"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-900",children:"Compliance Status"}),e.jsx("p",{className:"text-sm text-green-700",children:"All reports up to date"})]})]})]}),a==="gl"&&e.jsx(k,{}),a==="reports"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-slate-600",children:"Financial Reports & Statements"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(d,{variant:"outline",children:"P&L Statement"}),e.jsx(d,{variant:"outline",children:"Balance Sheet"}),e.jsx(d,{variant:"outline",children:"Cash Flow"})]})]}),a!=="overview"&&a!=="gl"&&a!=="reports"&&e.jsx("div",{className:"text-center py-8 text-slate-500",children:e.jsxs("p",{children:['Module "',g.find(n=>n.id===a)?.name,'" coming soon...']})})]})]})]})}export{O as default};
