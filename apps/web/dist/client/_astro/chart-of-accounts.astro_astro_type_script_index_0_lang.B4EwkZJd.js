import{j as e,c as g,a as wt,b as ge,B as P}from"./button.CDive8EV.js";import{r as n,R as Et}from"./index.D4lIrffr.js";import{C as ce,c as de,a as Rt,b as Tt}from"./card.Dfef4M5o.js";import{P as I,c as fe,a as St,b as q,d as It,e as T,R as _t,f as Ot,u as F,h as Pt,g as Ft,F as $t,D as Mt,i as Lt,j as z,k as kt,S as $,l as M,m as L,n as k,o as b,T as Bt,p as Wt,q as Y,r as R,s as Vt,t as C}from"./select.D9mAUHDS.js";import{c as Gt}from"./client.DU9XfzbK.js";const w=n.forwardRef(({className:a,type:s,...o},r)=>e.jsx("input",{type:s,className:g("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...o}));w.displayName="Input";var Ht="Label",xe=n.forwardRef((a,s)=>e.jsx(I.label,{...a,ref:s,onMouseDown:o=>{o.target.closest("button, input, select, textarea")||(a.onMouseDown?.(o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));xe.displayName=Ht;var he=xe;const Ut=wt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=n.forwardRef(({className:a,...s},o)=>e.jsx(he,{ref:o,className:g(Ut(),a),...s}));v.displayName=he.displayName;var V="Dialog",[me,ve]=fe(V),[zt,j]=me(V),je=a=>{const{__scopeDialog:s,children:o,open:r,defaultOpen:l,onOpenChange:i,modal:u=!0}=a,d=n.useRef(null),y=n.useRef(null),[f,A]=Lt({prop:r,defaultProp:l??!1,onChange:i,caller:V});return e.jsx(zt,{scope:s,triggerRef:d,contentRef:y,contentId:z(),titleId:z(),descriptionId:z(),open:f,onOpenChange:A,onOpenToggle:n.useCallback(()=>A(_=>!_),[A]),modal:u,children:o})};je.displayName=V;var ye="DialogTrigger",De=n.forwardRef((a,s)=>{const{__scopeDialog:o,...r}=a,l=j(ye,o),i=F(s,l.triggerRef);return e.jsx(I.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":K(l.open),...r,ref:i,onClick:T(a.onClick,l.onOpenToggle)})});De.displayName=ye;var Q="DialogPortal",[Yt,Ne]=me(Q,{forceMount:void 0}),Ae=a=>{const{__scopeDialog:s,forceMount:o,children:r,container:l}=a,i=j(Q,s);return e.jsx(Yt,{scope:s,forceMount:o,children:n.Children.map(r,u=>e.jsx(q,{present:o||i.open,children:e.jsx(It,{asChild:!0,container:l,children:u})}))})};Ae.displayName=Q;var W="DialogOverlay",be=n.forwardRef((a,s)=>{const o=Ne(W,a.__scopeDialog),{forceMount:r=o.forceMount,...l}=a,i=j(W,a.__scopeDialog);return i.modal?e.jsx(q,{present:r||i.open,children:e.jsx(Qt,{...l,ref:s})}):null});be.displayName=W;var qt=Ot("DialogOverlay.RemoveScroll"),Qt=n.forwardRef((a,s)=>{const{__scopeDialog:o,...r}=a,l=j(W,o);return e.jsx(_t,{as:qt,allowPinchZoom:!0,shards:[l.contentRef],children:e.jsx(I.div,{"data-state":K(l.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),E="DialogContent",Ce=n.forwardRef((a,s)=>{const o=Ne(E,a.__scopeDialog),{forceMount:r=o.forceMount,...l}=a,i=j(E,a.__scopeDialog);return e.jsx(q,{present:r||i.open,children:i.modal?e.jsx(Jt,{...l,ref:s}):e.jsx(Kt,{...l,ref:s})})});Ce.displayName=E;var Jt=n.forwardRef((a,s)=>{const o=j(E,a.__scopeDialog),r=n.useRef(null),l=F(s,o.contentRef,r);return n.useEffect(()=>{const i=r.current;if(i)return Pt(i)},[]),e.jsx(we,{...a,ref:l,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:T(a.onCloseAutoFocus,i=>{i.preventDefault(),o.triggerRef.current?.focus()}),onPointerDownOutside:T(a.onPointerDownOutside,i=>{const u=i.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&i.preventDefault()}),onFocusOutside:T(a.onFocusOutside,i=>i.preventDefault())})}),Kt=n.forwardRef((a,s)=>{const o=j(E,a.__scopeDialog),r=n.useRef(!1),l=n.useRef(!1);return e.jsx(we,{...a,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{a.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||o.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:i=>{a.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=i.target;o.triggerRef.current?.contains(u)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&l.current&&i.preventDefault()}})}),we=n.forwardRef((a,s)=>{const{__scopeDialog:o,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:i,...u}=a,d=j(E,o),y=n.useRef(null),f=F(s,y);return Ft(),e.jsxs(e.Fragment,{children:[e.jsx($t,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:l,onUnmountAutoFocus:i,children:e.jsx(Mt,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":K(d.open),...u,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Zt,{titleId:d.titleId}),e.jsx(ta,{contentRef:y,descriptionId:d.descriptionId})]})]})}),J="DialogTitle",Ee=n.forwardRef((a,s)=>{const{__scopeDialog:o,...r}=a,l=j(J,o);return e.jsx(I.h2,{id:l.titleId,...r,ref:s})});Ee.displayName=J;var Re="DialogDescription",Te=n.forwardRef((a,s)=>{const{__scopeDialog:o,...r}=a,l=j(Re,o);return e.jsx(I.p,{id:l.descriptionId,...r,ref:s})});Te.displayName=Re;var Se="DialogClose",Ie=n.forwardRef((a,s)=>{const{__scopeDialog:o,...r}=a,l=j(Se,o);return e.jsx(I.button,{type:"button",...r,ref:s,onClick:T(a.onClick,()=>l.onOpenChange(!1))})});Ie.displayName=Se;function K(a){return a?"open":"closed"}var _e="DialogTitleWarning",[Xt,Oe]=St(_e,{contentName:E,titleName:J,docsSlug:"dialog"}),Zt=({titleId:a})=>{const s=Oe(_e),o=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return n.useEffect(()=>{a&&(document.getElementById(a)||console.error(o))},[o,a]),null},ea="DialogDescriptionWarning",ta=({contentRef:a,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Oe(ea).contentName}}.`;return n.useEffect(()=>{const l=a.current?.getAttribute("aria-describedby");s&&l&&(document.getElementById(s)||console.warn(r))},[r,a,s]),null},Pe=je,aa=De,Fe=Ae,X=be,Z=Ce,ee=Ee,te=Te,ae=Ie,$e="AlertDialog",[sa,Ca]=fe($e,[ve]),N=ve(),Me=a=>{const{__scopeAlertDialog:s,...o}=a,r=N(s);return e.jsx(Pe,{...r,...o,modal:!0})};Me.displayName=$e;var oa="AlertDialogTrigger",ra=n.forwardRef((a,s)=>{const{__scopeAlertDialog:o,...r}=a,l=N(o);return e.jsx(aa,{...l,...r,ref:s})});ra.displayName=oa;var na="AlertDialogPortal",Le=a=>{const{__scopeAlertDialog:s,...o}=a,r=N(s);return e.jsx(Fe,{...r,...o})};Le.displayName=na;var la="AlertDialogOverlay",ke=n.forwardRef((a,s)=>{const{__scopeAlertDialog:o,...r}=a,l=N(o);return e.jsx(X,{...l,...r,ref:s})});ke.displayName=la;var S="AlertDialogContent",[ia,ca]=sa(S),da=kt("AlertDialogContent"),Be=n.forwardRef((a,s)=>{const{__scopeAlertDialog:o,children:r,...l}=a,i=N(o),u=n.useRef(null),d=F(s,u),y=n.useRef(null);return e.jsx(Xt,{contentName:S,titleName:We,docsSlug:"alert-dialog",children:e.jsx(ia,{scope:o,cancelRef:y,children:e.jsxs(Z,{role:"alertdialog",...i,...l,ref:d,onOpenAutoFocus:T(l.onOpenAutoFocus,f=>{f.preventDefault(),y.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[e.jsx(da,{children:r}),e.jsx(ua,{contentRef:u})]})})})});Be.displayName=S;var We="AlertDialogTitle",Ve=n.forwardRef((a,s)=>{const{__scopeAlertDialog:o,...r}=a,l=N(o);return e.jsx(ee,{...l,...r,ref:s})});Ve.displayName=We;var Ge="AlertDialogDescription",He=n.forwardRef((a,s)=>{const{__scopeAlertDialog:o,...r}=a,l=N(o);return e.jsx(te,{...l,...r,ref:s})});He.displayName=Ge;var pa="AlertDialogAction",Ue=n.forwardRef((a,s)=>{const{__scopeAlertDialog:o,...r}=a,l=N(o);return e.jsx(ae,{...l,...r,ref:s})});Ue.displayName=pa;var ze="AlertDialogCancel",Ye=n.forwardRef((a,s)=>{const{__scopeAlertDialog:o,...r}=a,{cancelRef:l}=ca(ze,o),i=N(o),u=F(s,l);return e.jsx(ae,{...i,...r,ref:u})});Ye.displayName=ze;var ua=({contentRef:a})=>{const s=`\`${S}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${S}\` by passing a \`${Ge}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${S}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,a]),null},ga=Me,fa=Le,qe=ke,Qe=Be,Je=Ue,Ke=Ye,Xe=Ve,Ze=He;const xa=ga,ha=fa,et=n.forwardRef(({className:a,...s},o)=>e.jsx(qe,{className:g("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:o}));et.displayName=qe.displayName;const tt=n.forwardRef(({className:a,...s},o)=>e.jsxs(ha,{children:[e.jsx(et,{}),e.jsx(Qe,{ref:o,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]}));tt.displayName=Qe.displayName;const at=({className:a,...s})=>e.jsx("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",a),...s});at.displayName="AlertDialogHeader";const st=({className:a,...s})=>e.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s});st.displayName="AlertDialogFooter";const ot=n.forwardRef(({className:a,...s},o)=>e.jsx(Xe,{ref:o,className:g("text-lg font-semibold",a),...s}));ot.displayName=Xe.displayName;const rt=n.forwardRef(({className:a,...s},o)=>e.jsx(Ze,{ref:o,className:g("text-sm text-gray-500",a),...s}));rt.displayName=Ze.displayName;const nt=n.forwardRef(({className:a,...s},o)=>e.jsx(Je,{ref:o,className:g(ge(),a),...s}));nt.displayName=Je.displayName;const lt=n.forwardRef(({className:a,...s},o)=>e.jsx(Ke,{ref:o,className:g(ge({variant:"outline"}),"mt-2 sm:mt-0",a),...s}));lt.displayName=Ke.displayName;const ma=Pe,va=Fe,it=n.forwardRef(({className:a,...s},o)=>e.jsx(X,{ref:o,className:g("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s}));it.displayName=X.displayName;const ct=n.forwardRef(({className:a,children:s,...o},r)=>e.jsxs(va,{children:[e.jsx(it,{}),e.jsxs(Z,{ref:r,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[s,e.jsxs(ae,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ct.displayName=Z.displayName;const dt=({className:a,...s})=>e.jsx("div",{className:g("flex flex-col space-y-1.5 text-center sm:text-left",a),...s});dt.displayName="DialogHeader";const pt=({className:a,...s})=>e.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s});pt.displayName="DialogFooter";const ut=n.forwardRef(({className:a,...s},o)=>e.jsx(ee,{ref:o,className:g("text-lg font-semibold leading-none tracking-tight",a),...s}));ut.displayName=ee.displayName;const gt=n.forwardRef(({className:a,...s},o)=>e.jsx(te,{ref:o,className:g("text-sm text-gray-500",a),...s}));gt.displayName=te.displayName;const pe=[{value:"ASSET",label:"Asset"},{value:"LIABILITY",label:"Liability"},{value:"EQUITY",label:"Equity"},{value:"REVENUE",label:"Revenue"},{value:"EXPENSE",label:"Expense"}],B="http://localhost:8787";function ja(){const[a,s]=n.useState([]),[o,r]=n.useState(!0),[l,i]=n.useState(null),[u,d]=n.useState(!1),[y,f]=n.useState(!1),[A,_]=n.useState(null),[D,se]=n.useState(null),[G,ft]=n.useState(""),[H,xt]=n.useState("all"),[oe,ht]=n.useState(new Set),[c,x]=n.useState({code:"",name:"",type:"",subtype:"",category:"",description:"",parentId:"",isActive:!0,allowTransactions:!0,reportOrder:0}),U=async()=>{try{r(!0);const t=await fetch(`${B}/api/accounts`);if(!t.ok)throw new Error(`Failed to fetch accounts: ${t.statusText}`);const p=await t.json();s(p.accounts||[]),i(null)}catch(t){i(t instanceof Error?t.message:"Failed to fetch accounts")}finally{r(!1)}},mt=async()=>{try{const t=D?`${B}/api/accounts/${D.id}`:`${B}/api/accounts`,m=await fetch(t,{method:D?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!m.ok){const h=await m.json();throw new Error(h.message||"Failed to save account")}await U(),d(!1),re()}catch(t){i(t instanceof Error?t.message:"Failed to save account")}},vt=t=>{_(t),f(!0)},jt=async()=>{if(A)try{const t=await fetch(`${B}/api/accounts/${A.id}`,{method:"DELETE"});if(!t.ok){const p=await t.json();throw new Error(p.message||"Failed to delete account")}await U(),f(!1),_(null)}catch(t){i(t instanceof Error?t.message:"Failed to delete account"),f(!1)}},re=()=>{x({code:"",name:"",type:"",subtype:"",category:"",description:"",parentId:"",isActive:!0,allowTransactions:!0,reportOrder:0}),se(null)},yt=t=>{se(t),x({code:t.code,name:t.name,type:t.type,subtype:t.subtype||"",category:t.category||"",description:t.description||"",parentId:t.parentId||"",isActive:t.isActive,allowTransactions:t.allowTransactions,reportOrder:t.reportOrder}),d(!0)},Dt=()=>{re(),d(!0)},Nt=t=>{const p=new Set(oe);p.has(t)?p.delete(t):p.add(t),ht(p)},At=t=>{const p=new Map,m=[];return t.forEach(h=>{p.set(h.id,{...h,children:[]})}),t.forEach(h=>{const O=p.get(h.id);h.parentId&&p.has(h.parentId)?p.get(h.parentId).children.push(O):m.push(O)}),m},bt=a.filter(t=>{const p=t.name.toLowerCase().includes(G.toLowerCase())||t.code.toLowerCase().includes(G.toLowerCase()),m=H==="all"||t.type===H;return p&&m}),ne=(t,p=0)=>{const m=[],h=t.children&&t.children.length>0,O=oe.has(t.id),ie=p*20;return m.push(e.jsxs(Y,{className:p>0?"bg-gray-50":"",children:[e.jsx(C,{style:{paddingLeft:`${16+ie}px`},children:e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx("button",{onClick:()=>Nt(t.id),className:"w-4 h-4 flex items-center justify-center text-gray-500 hover:text-gray-700",children:O?"−":"+"}),e.jsx("span",{className:"font-mono text-sm",children:t.code})]})}),e.jsx(C,{children:t.name}),e.jsx(C,{children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.type==="ASSET"?"bg-blue-100 text-blue-800":t.type==="LIABILITY"?"bg-red-100 text-red-800":t.type==="EQUITY"?"bg-purple-100 text-purple-800":t.type==="REVENUE"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:t.type})}),e.jsx(C,{className:"text-right font-mono",children:t.formattedBalance||"$0.00"}),e.jsx(C,{children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"})}),e.jsx(C,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(P,{variant:"outline",size:"sm",onClick:()=>yt(t),children:"Edit"}),!t.isSystem&&e.jsx(P,{variant:"destructive",size:"sm",onClick:()=>vt(t),children:"Delete"})]})})]},t.id)),h&&O&&t.children.forEach(Ct=>{m.push(...ne(Ct,p+1))}),m};n.useEffect(()=>{U()},[]);const le=At(bt);return o?e.jsx(ce,{children:e.jsx(de,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"text-gray-500",children:"Loading accounts..."})})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(xa,{open:y,onOpenChange:f,children:e.jsxs(tt,{children:[e.jsxs(at,{children:[e.jsx(ot,{children:"Are you sure?"}),e.jsxs(rt,{children:["This action cannot be undone. This will permanently delete the account",e.jsx("strong",{children:A?.name})," and all associated data."]})]}),e.jsxs(st,{children:[e.jsx(lt,{onClick:()=>_(null),children:"Cancel"}),e.jsx(nt,{onClick:jt,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsxs(ce,{children:[e.jsx(Rt,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Tt,{children:"Chart of Accounts"}),e.jsx(P,{onClick:Dt,children:"Add Account"})]})}),e.jsxs(de,{children:[l&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-800",children:l})}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(w,{placeholder:"Search accounts...",value:G,onChange:t=>ft(t.target.value)})}),e.jsx("div",{className:"w-48",children:e.jsxs($,{value:H,onValueChange:xt,children:[e.jsx(M,{children:e.jsx(L,{placeholder:"Filter by type"})}),e.jsxs(k,{children:[e.jsx(b,{value:"all",children:"All Types"}),pe.map(t=>e.jsx(b,{value:t.value,children:t.label},t.value))]})]})})]}),e.jsxs(Bt,{children:[e.jsx(Wt,{children:e.jsxs(Y,{children:[e.jsx(R,{children:"Code"}),e.jsx(R,{children:"Name"}),e.jsx(R,{children:"Type"}),e.jsx(R,{className:"text-right",children:"Balance"}),e.jsx(R,{children:"Status"}),e.jsx(R,{children:"Actions"})]})}),e.jsx(Vt,{children:le.length===0?e.jsx(Y,{children:e.jsx(C,{colSpan:6,className:"text-center text-gray-500 py-8",children:"No accounts found"})}):le.map(t=>ne(t))})]})]})]}),e.jsx(ma,{open:u,onOpenChange:d,children:e.jsxs(ct,{className:"max-w-md",children:[e.jsxs(dt,{children:[e.jsx(ut,{children:D?`Edit Account: ${D.name}`:"Create New Account"}),e.jsx(gt,{children:D?"Update account information":"Add a new account to the chart of accounts"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"code",children:"Account Code"}),e.jsx(w,{id:"code",value:c.code,onChange:t=>x({...c,code:t.target.value}),placeholder:"e.g., 1000"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"type",children:"Type"}),e.jsxs($,{value:c.type,onValueChange:t=>x({...c,type:t}),children:[e.jsx(M,{children:e.jsx(L,{placeholder:"Select type"})}),e.jsx(k,{children:pe.map(t=>e.jsx(b,{value:t.value,children:t.label},t.value))})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"name",children:"Account Name"}),e.jsx(w,{id:"name",value:c.name,onChange:t=>x({...c,name:t.target.value}),placeholder:"e.g., Cash and Cash Equivalents"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"description",children:"Description"}),e.jsx(w,{id:"description",value:c.description,onChange:t=>x({...c,description:t.target.value}),placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"parentId",children:"Parent Account"}),e.jsxs($,{value:c.parentId||"",onValueChange:t=>x({...c,parentId:t}),children:[e.jsx(M,{children:e.jsx(L,{placeholder:"Select a parent account (optional)"})}),e.jsxs(k,{children:[e.jsx(b,{value:"",children:e.jsx("em",{children:"No Parent"})}),a.filter(t=>["ASSET","LIABILITY","EQUITY"].includes(t.type)&&t.id!==D?.id).map(t=>e.jsxs(b,{value:t.id.toString(),children:[t.name," (",t.code,")"]},t.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"subtype",children:"Subtype"}),e.jsx(w,{id:"subtype",value:c.subtype,onChange:t=>x({...c,subtype:t.target.value}),placeholder:"Optional"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"category",children:"Category"}),e.jsx(w,{id:"category",value:c.category,onChange:t=>x({...c,category:t.target.value}),placeholder:"Optional"})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"parentId",children:"Parent Account"}),e.jsxs($,{value:c.parentId,onValueChange:t=>x({...c,parentId:t}),children:[e.jsx(M,{children:e.jsx(L,{placeholder:"Select parent (optional)"})}),e.jsxs(k,{children:[e.jsx(b,{value:"",children:"No Parent"}),a.filter(t=>t.accountingInfo?.canHaveChildren&&t.id!==D?.id).map(t=>e.jsxs(b,{value:t.id,children:[t.code," - ",t.name]},t.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:t=>x({...c,isActive:t.target.checked}),className:"rounded border-gray-300"}),e.jsx(v,{htmlFor:"isActive",children:"Active"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"allowTransactions",checked:c.allowTransactions,onChange:t=>x({...c,allowTransactions:t.target.checked}),className:"rounded border-gray-300"}),e.jsx(v,{htmlFor:"allowTransactions",children:"Allow Transactions"})]})]})]}),e.jsxs(pt,{children:[e.jsx(P,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(P,{onClick:mt,children:D?"Update":"Create"})]})]})})]})}const ue=document.getElementById("chart-of-accounts-root");ue&&Gt.createRoot(ue).render(Et.createElement(ja));
